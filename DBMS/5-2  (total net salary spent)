CREATE OR REPLACE FUNCTION NETSAL(YEAR NUMBER) RETURN NUMBER
IS
TOTAL EMP.SAL%TYPE;
BEGIN
SELECT AVG (SAL) INTO TOTAL FROM EMP WHERE TO_CHAR
(HIREDATE,'YYYY')=YEAR;
RETURN TOTAL;
END;
OUTPUT:
SQL> @52.SQL
11 /
Function created.
Prepared By KCHV Page 11
/*CALLING FUNCTION*/
DECLARE
YEAR NUMBER (4);
L NUMBER (4);
BEGIN
YEAR:=&YEAR;
L: =NETSAL (YEAR);
DBMS_OUTPUT.PUT_LINE (L);
END;
/
OUTPUT:
SQL> @52A.SQL
9 /
Enter value for year: 1980
old 5: YEAR:=&YEAR;
new 5: YEAR:=1980;
NETSAL IN THE GIVEN YEAR=800
PL/SQL procedure successfully completed